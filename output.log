Checking formating of source files...
Running clippy on source files...
    Checking tbf-parser v0.1.0 (/mnt/d/Programming/tockloader-rs/tbf-parser)
    Checking clap_builder v4.3.17
error: redundant field names in struct initialization
   --> tbf-parser/src/parse.rs:307:21
    |
307 |                     kernel_version: kernel_version,
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace it with: `kernel_version`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_field_names
    = note: `-D clippy::redundant-field-names` implied by `-D warnings`

error: redundant field names in struct initialization
   --> tbf-parser/src/types.rs:640:13
    |
640 |             data: data,
    |             ^^^^^^^^^^ help: replace it with: `data`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_field_names

error: length comparison to zero
   --> tbf-parser/src/parse.rs:127:16
    |
127 |             if remaining.len() == 0 {
    |                ^^^^^^^^^^^^^^^^^^^^ help: using `is_empty` is clearer and more explicit: `remaining.is_empty()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#len_zero
    = note: `-D clippy::len-zero` implied by `-D warnings`

error: length comparison to zero
   --> tbf-parser/src/parse.rs:148:23
    |
148 |                 while remaining.len() > 0 {
    |                       ^^^^^^^^^^^^^^^^^^^ help: using `!is_empty` is clearer and more explicit: `!remaining.is_empty()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#len_zero

error: the loop variable `i` is used to index `wfr_pointer`
   --> tbf-parser/src/parse.rs:220:42
    |
220 | ...                   for i in 0..number_regions {
    |                                ^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_range_loop
    = note: `-D clippy::needless-range-loop` implied by `-D warnings`
help: consider using an iterator
    |
220 |                                 for (i, <item>) in wfr_pointer.iter_mut().enumerate().take(number_regions) {
    |                                     ~~~~~~~~~~~    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

error: casting to the same type is unnecessary (`usize` -> `usize`)
   --> tbf-parser/src/types.rs:503:33
    |
503 |                     .get(start..end as usize)
    |                                 ^^^^^^^^^^^^ help: try: `end`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_cast
    = note: `-D clippy::unnecessary-cast` implied by `-D warnings`

error: casting to the same type is unnecessary (`usize` -> `usize`)
   --> tbf-parser/src/types.rs:544:34
    |
544 |                     b.get(start..read_end as usize)
    |                                  ^^^^^^^^^^^^^^^^^ help: try: `read_end`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_cast

error: casting to the same type is unnecessary (`usize` -> `usize`)
   --> tbf-parser/src/types.rs:567:34
    |
567 |                     b.get(start..modify_end as usize)
    |                                  ^^^^^^^^^^^^^^^^^^^ help: try: `modify_end`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_cast

error: large size difference between variants
   --> tbf-parser/src/types.rs:684:1
    |
684 | / pub enum TbfHeader {
685 | |     TbfHeaderV2(TbfHeaderV2),
    | |     ------------------------ the largest variant contains at least 360 bytes
686 | |     Padding(TbfHeaderV2Base),
    | |     ------------------------ the second-largest variant contains at least 16 bytes
687 | | }
    | |_^ the entire enum is at least 360 bytes
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#large_enum_variant
    = note: `-D clippy::large-enum-variant` implied by `-D warnings`
help: consider boxing the large fields to reduce the total size of the enum
    |
685 |     TbfHeaderV2(Box<TbfHeaderV2>),
    |                 ~~~~~~~~~~~~~~~~

error: manual implementation of `Option::map`
   --> tbf-parser/src/types.rs:903:43
    |
903 |               TbfHeader::TbfHeaderV2(hd) => match hd.storage_permissions {
    |  ___________________________________________^
904 | |                 Some(permissions) => Some((permissions.read_length.into(), permissions.read_ids)),
905 | |                 _ => None,
906 | |             },
    | |_____________^ help: try this: `hd.storage_permissions.map(|permissions| (permissions.read_length.into(), permissions.read_ids))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_map
    = note: `-D clippy::manual-map` implied by `-D warnings`

error: manual implementation of `Option::map`
   --> tbf-parser/src/types.rs:915:43
    |
915 |               TbfHeader::TbfHeaderV2(hd) => match hd.storage_permissions {
    |  ___________________________________________^
916 | |                 Some(permissions) => {
917 | |                     Some((permissions.modify_length.into(), permissions.modify_ids))
918 | |                 }
919 | |                 _ => None,
920 | |             },
    | |_____________^ help: try this: `hd.storage_permissions.map(|permissions| (permissions.modify_length.into(), permissions.modify_ids))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_map

error: manual implementation of `Option::map`
   --> tbf-parser/src/types.rs:929:43
    |
929 |               TbfHeader::TbfHeaderV2(hd) => match hd.kernel_version {
    |  ___________________________________________^
930 | |                 Some(kernel_version) => Some((kernel_version.major, kernel_version.minor)),
931 | |                 _ => None,
932 | |             },
    | |_____________^ help: try this: `hd.kernel_version.map(|kernel_version| (kernel_version.major, kernel_version.minor))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_map

error: casting to the same type is unnecessary (`u32` -> `u32`)
   --> tbf-parser/src/types.rs:944:25
    |
944 |                 .map_or(hd.base.total_size as u32, |p| p.binary_end_offset),
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `hd.base.total_size`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_cast

error: could not compile `tbf-parser` due to 13 previous errors
warning: build failed, waiting for other jobs to finish...
make: *** [Makefile:14: ci-job-clippy] Error 101
